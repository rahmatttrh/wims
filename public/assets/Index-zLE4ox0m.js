import{S as T,m as B,p as j}from"./SearchFilter-B_YscoMn.js";import{t as C}from"./throttle-D8AUt2bN.js";import{T as N}from"./Button-feziRQJJ.js";import{P as S}from"./Pagination-DjCI5krI.js";import{S as U}from"./SelectInput-BdLKWJYF.js";import{A as O}from"./AdminLayout-CZVbxH_w.js";import{T as F}from"./SectionTitle-CsKWWg1N.js";import{_ as R,r as a,d as _,o as n,e as r,b as e,g as l,h as f,t as o,c as i,F as g,i as k,a as h,n as A}from"./app-CmanO5vD.js";import"./DropdownLink-DLgJUFVy.js";import"./Label-BFNS-ixp.js";import"./InputError-IXNDXV76.js";import"./v4-BKrj-4V8.js";import"./Modal-vEUc-xTy.js";import"./ApplicationLogo-C9LXsB4R.js";import"./ApplicationMark-CtaHwZ2O.js";const E={components:{TecButton:N,Pagination:S,AdminLayout:O,SelectInput:U,SearchFilter:T,TecSectionTitle:F},props:{roles:Object,users:Object,filters:Object},data(){return{form:{role:this.filters.role,search:this.filters.search,trashed:this.filters.trashed}}},watch:{form:{handler:C(function(){let t=j(this.form);this.$inertia.visit(this.route("users.index",Object.keys(t).length?t:{remember:"forget"}),{onFinish:()=>{document.getElementById("page-search").focus()}})},150),deep:!0}},methods:{goto(t){this.$can("update-users")&&this.$inertia.visit(t)},reset(){this.form=B(this.form,()=>null)}}},I={class:"px-4 md:px-0"},P={class:"mb-6 flex justify-between items-center print:hidden"},L={class:"block text-gray-700"},q={value:null},z=["value"],D={class:"mt-4 block text-gray-700"},W={value:null},G={value:"with"},H={value:"only"},J={class:"hidden lg:inline"},K={class:"bg-white -mx-4 md:mx-0 md:rounded-md shadow-sm overflow-x-auto"},M={class:"w-full whitespace-nowrap"},Q={class:"text-left font-bold"},X={class:"px-6 pt-6 pb-4"},Y={class:"px-6 pt-6 pb-4"},Z={class:"px-6 pt-6 pb-4",colspan:"2"},ee=["onClick"],te={class:"border-t"},se={class:"focus:outline-hidden px-6 py-4 flex items-center focus:text-indigo-500"},oe=["src"],ne={class:"border-t"},le={class:"focus:outline-hidden px-6 py-4 flex items-center"},ae={class:"border-t"},re={class:"focus:outline-hidden px-6 py-4 flex items-center"},ie={class:"border-t w-px"},de={key:0,class:"focus:outline-hidden px-4 flex items-center"},ce={key:0},me={class:"border-t px-6 py-4",colspan:"4"};function he(t,d,m,ue,c,b){const w=a("tec-section-title"),y=a("select-input"),v=a("search-filter"),u=a("icons"),x=a("tec-button"),V=a("pagination"),$=a("admin-layout");return n(),_($,{title:t.$t("Users")},{default:r(()=>[e("div",I,[l(w,{class:"-mx-4 md:mx-0 mb-6"},{title:r(()=>[f(o(t.$t("Users")),1)]),description:r(()=>[f(o(t.$t("Please review the data in the table below")),1)]),_:1}),e("div",P,[l(v,{modelValue:c.form.search,"onUpdate:modelValue":d[2]||(d[2]=s=>c.form.search=s),class:"w-full max-w-md mr-4",onReset:b.reset},{default:r(()=>[e("label",L,o(t.$t("Role"))+":",1),l(y,{modelValue:c.form.role,"onUpdate:modelValue":d[0]||(d[0]=s=>c.form.role=s),class:"mt-1 w-full"},{default:r(()=>[e("option",q,o(t.$t("All")),1),(n(!0),i(g,null,k(m.roles,s=>(n(),i("option",{key:s,value:s.name},o(t.$t(s.name)),9,z))),128))]),_:1},8,["modelValue"]),e("label",D,o(t.$t("Trashed"))+":",1),l(y,{modelValue:c.form.trashed,"onUpdate:modelValue":d[1]||(d[1]=s=>c.form.trashed=s),class:"mt-1 w-full"},{default:r(()=>[e("option",W,o(t.$t("Not Trashed")),1),e("option",G,o(t.$t("With Trashed")),1),e("option",H,o(t.$t("Only Trashed")),1)]),_:1},8,["modelValue"])]),_:1},8,["modelValue","onReset"]),l(x,{href:t.route("users.create")},{default:r(()=>[e("span",null,[l(u,{name:"plus",class:"w-5 h-5 lg:mr-2"})]),e("span",J,o(t.$t("create_x",{x:t.$t("User")})),1)]),_:1},8,["href"])]),e("div",K,[e("table",M,[e("thead",null,[e("tr",Q,[e("th",X,o(t.$t("Name")),1),e("th",Y,o(t.$t("Email")),1),e("th",Z,o(t.$t("Role")),1)])]),e("tbody",null,[(n(!0),i(g,null,k(m.users.data,s=>(n(),i("tr",{key:s.id,onClick:p=>b.goto(t.route("users.edit",s.id)),class:A(["hover:bg-gray-100 focus-within:bg-gray-100",{"cursor-pointer":t.$can("update-users")}])},[e("td",te,[e("div",se,[s.photo?(n(),i("img",{key:0,class:"block w-5 h-5 rounded-full mr-2 -my-2",src:s.photo},null,8,oe)):h("",!0),f(" "+o(s.name)+" ",1),s.two_factor_enabled?(n(),_(u,{key:1,name:"otp",class:"shrink-0 text-blue-600 ml-2"})):h("",!0),s.deleted_at?(n(),_(u,{key:2,name:"trash",class:"shrink-0 text-red-500 ml-2"})):h("",!0)])]),e("td",ne,[e("div",le,o(s.email),1)]),e("td",ae,[e("div",re,o(s.roles?s.roles.map(p=>p.name||p).join(", "):""),1)]),e("td",ie,[t.$can("update-users")?(n(),i("div",de,[l(u,{name:"chevron-down",class:"transform -rotate-90 block w-4 h-4"})])):h("",!0)])],10,ee))),128)),m.users.data.length===0?(n(),i("tr",ce,[e("td",me,o(t.$t("There is no data to display.")),1)])):h("",!0)])])]),l(V,{class:"mt-6",meta:m.users.meta,links:m.users.links},null,8,["meta","links"])])]),_:1},8,["title"])}const Ce=R(E,[["render",he]]);export{Ce as default};
