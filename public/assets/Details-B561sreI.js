import{J as v}from"./JsBarcode-CYV_0mvs.js";import{M as P}from"./Modal-vEUc-xTy.js";import{T as B}from"./TrashedMessage-CoOCaDQW.js";import{T as M}from"./ApplicationLogo-C9LXsB4R.js";import{_ as $,r as g,c as a,a as r,o as i,b as e,g as x,d as w,t,e as p,h as m,n as d,F as _,i as b}from"./app-CmanO5vD.js";import"./ApplicationMark-CtaHwZ2O.js";const j={props:{checkin:Object},components:{Modal:P,TrashedMessage:B,TecApplicationLogo:M},data(){return{photo:null,show:!1,loading:!1}},mounted(){v("#barcode",this.checkin.reference,{width:1,margin:0,fontSize:0,height:"20",format:"CODE128"})},updated(){v("#barcode",this.checkin.reference,{width:1,margin:0,fontSize:0,height:"20",format:"CODE128"})},methods:{showPhoto(s){this.show=!0,this.photo=s},hidePhoto(){this.show=!1,this.photo=null}}},L={key:0,class:"mt-auto bg-gray-100 -m-6 py-6 px-4 md:px-6 rounded-md print:bg-white print:mt-0 print:pt-0 print:h-screen print:overflow-visible"},N={class:"bg-white p-4 rounded-md shadow-sm overflow-x-auto print:shadow-none print:pt-0"},V={class:"block sm:flex justify-between print:flex"},q=["src"],z={class:"text-left sm:text-right leading-snug max-w-md print:text-right"},E={class:"font-bold"},F={key:0},O={key:1},S={key:2},A={class:"py-4 w-full"},H={class:"text-xl text-center uppercase font-extrabold"},J={class:"block sm:flex justify-between print:flex"},I={class:"w-full sm:w-1/2 leading-snug mb-6 sm:mb-0"},Q={class:"text-left w-full sm:w-1/2 leading-snug"},R={class:"text-sm font-bold"},W={key:0},G={key:1},K={class:"-mx-4 overflow-x-auto"},U={class:"w-full mt-8 mb-4",style:{"min-width":"500px"}},X={class:"px-6 py-2 text-left"},Y={key:0},Z={class:"px-6 py-2 w-32 text-right"},ee={class:"group-hover:bg-gray-100 border-t px-6 pt-2 font-bold"},te={class:"flex items-center gap-x-2 gap-y-1"},se=["src","onClick"],oe={class:"flex items-center gap-x-2 gap-y-1"},ne={key:0,class:"block w-8 h-8 rounded-xs -my-2"},ie=["innerHTML"],ae={key:0},re={class:"group-hover:bg-gray-100 border-t px-6 py-2"},ce={class:"flex items-center gap-x-2 gap-y-1"},de=["src","onClick"],le={key:0},he={class:"group-hover:bg-gray-100 border-t px-6 py-2 w-32 text-right"},ue={key:2,class:"print:hidden py-4 w-full"},ge={class:"font-medium"},me={class:"mt-1 text-sm text-gray-900"},_e={role:"list",class:"border border-gray-200 rounded-md divide-y divide-gray-200"},ke={class:"w-0 flex-1 flex items-center"},we={class:"ml-2 flex-1 w-0 truncate"},pe={class:"ml-4 shrink-0"},be=["href"],ye={key:3,class:"py-4 w-full"},fe={class:"mt-auto pt-4 w-full text-center text-sm text-gray-500 hidden print:block"},ve={class:"print:block print:h-full"},xe=["src"];function Ce(s,c,n,Te,y,h){const C=g("tec-application-logo"),f=g("trashed-message"),T=g("icons"),D=g("modal");return n.checkin?(i(),a("div",L,[e("div",N,[e("div",V,[n.checkin.warehouse.logo?(i(),a("img",{key:0,src:n.checkin.warehouse.logo,class:"mb-4 sm:mb-0",style:{"max-height":"90px"}},null,8,q)):(i(),w(C,{key:1,class:"mb-4 sm:mb-0"})),e("div",z,[e("div",E,t(n.checkin.warehouse.name)+" ("+t(n.checkin.warehouse.code)+")",1),n.checkin.warehouse.address?(i(),a("div",F,t(n.checkin.warehouse.address),1)):r("",!0),n.checkin.warehouse.phone?(i(),a("div",O,t(n.checkin.warehouse.phone),1)):r("",!0),n.checkin.warehouse.email?(i(),a("div",S,t(n.checkin.warehouse.email),1)):r("",!0)])]),c[5]||(c[5]=e("div",{class:"border-b my-4 -mx-4"},null,-1)),n.checkin.draft==1?(i(),w(f,{key:0,class:"mb-4 h-12 print:hidden",action:!1,icon:"info"},{default:p(()=>[m(t(s.$t("This record is still a draft.")),1)]),_:1})):r("",!0),n.checkin.deleted_at?(i(),w(f,{key:1,class:"mb-4 h-12 print:hidden",action:!1},{default:p(()=>[m(t(s.$t("This record has been deleted.")),1)]),_:1})):r("",!0),e("div",A,[e("h1",H,t(s.$t("Checkin")),1),c[2]||(c[2]=e("svg",{id:"barcode",class:"mt-2 mx-auto"},null,-1))]),e("div",J,[e("div",I,[c[3]||(c[3]=e("div",{class:"text-sm font-bold"},"Â ",-1)),e("div",null,t(s.$t("Date"))+": "+t(s.$date(n.checkin.date)),1),e("div",null,t(s.$t("Reference"))+": "+t(n.checkin.reference),1),e("div",null,t(s.$t("Created at"))+": "+t(s.$datetime(n.checkin.created_at)),1)]),e("div",Q,[e("div",R,t(s.$t("For"))+":",1),e("div",null,t(n.checkin.contact.name),1),n.checkin.contact.phone?(i(),a("div",W,t(n.checkin.contact.phone),1)):r("",!0),n.checkin.contact.email?(i(),a("div",G,t(n.checkin.contact.email),1)):r("",!0)])]),e("div",K,[e("table",U,[e("thead",null,[e("tr",null,[e("th",X,t(s.$t("Item")),1),e("th",{class:d(["px-6 py-2 text-right",s.$settings.track_weight?"w-32":"w-px"])},[s.$settings.track_weight?(i(),a("span",Y,t(s.$t("Weight")),1)):r("",!0)],2),e("th",Z,t(s.$t("Quantity")),1)])]),(i(!0),a(_,null,b(n.checkin.items,(o,u)=>(i(),a(_,{key:"i_"+o.id},[o.variations.length?(i(),a("tbody",{key:0,class:d(["group avoid",{"bg-gray-50":u%2!=0,"border-b":n.checkin.items.length==u+1}])},[e("tr",null,[e("td",ee,[e("div",te,[o.item.photo?(i(),a("img",{key:0,class:"block w-8 h-8 rounded-xs -my-2",src:o.item.photo,onClick:l=>h.showPhoto(o.item.photo)},null,8,se)):r("",!0),m(" "+t(s.$t(o.item.name))+" ("+t(o.item.code)+") ",1)])]),e("td",{class:d(["group-hover:bg-gray-100 border-t px-6 py-2 text-right",s.$settings.track_weight&&o.item.track_weight?"w-32":"w-px"])},null,2),c[4]||(c[4]=e("td",{class:"group-hover:bg-gray-100 border-t px-6 pt-2 w-32 text-right"},null,-1))]),(i(!0),a(_,null,b(o.variations,(l,k)=>(i(),a("tr",{key:"v_"+l.id},[e("td",{class:d([{"pb-2":k+1==o.variations.length},"group-hover:bg-gray-100 px-6 pt-2"])},[e("div",oe,[o.item.photo?(i(),a("span",ne)):r("",!0),e("span",{innerHTML:s.$meta(l.meta)},null,8,ie)])],2),e("td",{class:d([{"pb-2":k+1==o.variations.length,"w-32":s.$settings.track_weight&&o.item.track_weight},"group-hover:bg-gray-100 px-6 pt-2 text-right"])},[s.$settings.track_weight&&o.item.track_weight?(i(),a("span",ae,t(s.$number(l.pivot.weight))+" "+t(s.$settings.weight_unit),1)):r("",!0)],2),e("td",{class:d([{"pb-2":k+1==o.variations.length},"group-hover:bg-gray-100 px-6 pt-2 w-32 text-right"])},t(s.$number(l.pivot.quantity))+" "+t(o.unit?o.unit.code:""),3)]))),128))],2)):(i(),a("tbody",{key:1,class:d(["group avoid",{"bg-gray-50":u%2!=0,"border-b":n.checkin.items.length==u+1}])},[e("tr",null,[e("td",re,[e("div",ce,[o.item.photo?(i(),a("img",{key:0,class:"block w-8 h-8 rounded-xs -my-2",src:o.item.photo,onClick:l=>h.showPhoto(o.item.photo)},null,8,de)):r("",!0),m(" "+t(s.$t(o.item.name))+" ("+t(o.item.code)+") ",1)])]),e("td",{class:d(["group-hover:bg-gray-100 border-t px-6 py-2 text-right",s.$settings.track_weight&&o.item.track_weight?"w-32":"w-px"])},[s.$settings.track_weight&&o.item.track_weight?(i(),a("span",le,t(s.$number(o.weight))+" "+t(s.$settings.weight_unit),1)):r("",!0)],2),e("td",he,t(s.$number(o.quantity))+" "+t(o.unit?o.unit.code:""),1)])],2))],64))),128))])]),n.checkin.attachments&&n.checkin.attachments.length?(i(),a("div",ue,[e("dt",ge,t(s.$t("Attachments")),1),e("dd",me,[e("ul",_e,[(i(!0),a(_,null,b(n.checkin.attachments,o=>(i(),a("li",{key:o.id,class:"pl-3 pr-4 py-3 flex items-center justify-between text-sm"},[e("div",ke,[x(T,{name:"clip",class:"shrink-0 h-5 w-5 text-gray-400"}),e("span",we,t(o.title),1)]),e("div",pe,[e("a",{class:"font-medium text-indigo-600 hover:text-indigo-500",href:s.route("media.download",o.id)},t(s.$t("Download")),9,be)])]))),128))])])])):r("",!0),n.checkin.details?(i(),a("div",ye,t(s.$t(n.checkin.details)),1)):r("",!0)]),e("div",fe,t(s.$t("This is computer generated document, no signature required.")),1),x(D,{show:y.show,"max-width":"2xl",closeable:!0,transparent:!0,onClose:c[1]||(c[1]=o=>h.hidePhoto())},{default:p(()=>[e("div",ve,[e("img",{class:"block max-w-full mx-auto rounded-md",src:y.photo,onClick:c[0]||(c[0]=o=>h.hidePhoto())},null,8,xe)])]),_:1},8,["show"])])):r("",!0)}const Le=$(j,[["render",Ce]]);export{Le as default};
