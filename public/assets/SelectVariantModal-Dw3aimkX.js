import{E as v,_ as w,r as n,d as m,o as i,e as E,b as l,t as h,g as f,c as p,a as q,F as V,i as y}from"./app-CmanO5vD.js";import{a as C}from"./throttle-D8AUt2bN.js";import{M as S}from"./Modal-vEUc-xTy.js";import{T as B}from"./TextInput-DMi2dCla.js";import{_ as I}from"./AutoComplete-DCdUm1YR.js";import{L as j}from"./LoadingButton-DJovEPtR.js";var d,_;function F(){if(_)return d;_=1;var e=C();function t(o,u){return e(o,u)}return d=t,d}var L=F();const K=v(L),M={emits:["close","selected"],components:{AutoComplete:I,LoadingButton:j,Modal:S,TextInput:B},props:{variants:{required:!0},nf:String,show:{default:!1},maxWidth:{default:"2xl"},closeable:{default:!0}},data(){return{sku:null,error:null}},watch:{sku:{immediate:!0,handler(e){e&&e.length==36&&(this.error=null,this.$emit("selected",e))}}},mounted(){this.error=null,document.getElementById("variation-sku").focus()},methods:{checkSelected(){this.variants.find(e=>!e.selected)||this.add()},add(){if(this.variants.find(e=>!e.selected))this.error=this.$t("Please select all the variants");else{let e={};this.variants.map(t=>t.selected?e[t.name]=t.selected:""),this.error=null,this.$emit("selected",e)}},close(){this.$emit("close")}}},N={class:"relative px-6 py-4"},U={class:"text-lg font-bold"},D={class:"mt-4"},T={class:"py-2 mx-auto max-w-7xl"},W={key:0,class:"text-red-600 px-4 py-3 mb-6 rounded-md bg-red-100"},A={class:"flex items-start gap-6"};function P(e,t,o,u,r,c){const x=n("icons"),g=n("text-input"),b=n("auto-complete"),k=n("modal");return i(),m(k,{show:o.show,"max-width":o.maxWidth,closeable:o.closeable,onClose:c.close},{default:E(()=>[l("div",N,[l("h3",U,h(e.$t("Select Variants")),1),l("button",{onClick:t[0]||(t[0]=s=>c.close()),class:"fixed top-2 right-2 flex items-center justify-center h-8 w-8 rounded-full text-gray-600 hover:text-gray-800 hover:bg-gray-300 focus:outline-hidden"},[f(x,{name:"cross",class:"h-5 w-5"})]),l("div",D,[l("section",T,[r.error||o.nf?(i(),p("div",W,h(r.error||o.nf),1)):q("",!0),f(g,{class:"w-full block mb-6",id:"variation-sku",modelValue:r.sku,"onUpdate:modelValue":t[1]||(t[1]=s=>r.sku=s),placeholder:e.$t("Scan barcode")},null,8,["modelValue","placeholder"]),l("div",A,[(i(!0),p(V,null,y(o.variants,s=>(i(),m(b,{key:s.sku,json:"",class:"w-1/2",id:s.sku,label:e.$t(s.name),modelValue:s.selected,"onUpdate:modelValue":[a=>s.selected=a,c.checkSelected],position:"bottom-12 sm:top-12",suggestions:s.option.filter(a=>a).map(a=>e.$t(a))},null,8,["id","label","modelValue","onUpdate:modelValue","suggestions"]))),128))])])])])]),_:1},8,["show","max-width","closeable","onClose"])}const O=w(M,[["render",P]]);export{O as S,K as _};
