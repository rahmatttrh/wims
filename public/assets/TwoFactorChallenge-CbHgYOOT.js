import{T as k}from"./Input-Dp9i-tt6.js";import{T as V}from"./Label-BFNS-ixp.js";import{L as C}from"./LoadingButton-DJovEPtR.js";import{T as L}from"./ValidationErrors-BySELM_L.js";import{T as w}from"./AuthenticationCard-qAP1Spl-.js";import{J as x}from"./AuthenticationCardLogo-BolpcA96.js";import{_ as B,r as c,d as $,o as s,e as y,g as r,b as m,c as i,F as u,h as a,t as l,w as v}from"./app-CmanO5vD.js";import"./ApplicationMark-CtaHwZ2O.js";const P={components:{TecInput:k,TecLabel:V,LoadingButton:C,TecValidationErrors:L,TecAuthenticationCard:w,TecAuthenticationCardLogo:x},data(){return{recovery:!1,form:this.$inertia.form({code:"",recovery_code:""})}},created(){document.title=this.$t("OTP")+" â€¢ "+this.$settings.name},mounted(){document.body.classList.add("spinner-normal")},unmounted(){document.body.classList.remove("spinner-normal")},methods:{toggleRecovery(){this.recovery^=!0,this.$nextTick(()=>{this.recovery?(this.$refs.recovery_code.focus(),this.form.code=""):(this.$refs.code.focus(),this.form.recovery_code="")})},submit(){this.form.post(this.route("two-factor.login"))}}},R={class:"mb-4 text-gray-600"},U={key:0},A={key:1},F={class:"flex items-center justify-end mt-4"};function N(o,t,E,H,e,d){const _=c("Head"),g=c("tec-authentication-card-logo"),h=c("tec-validation-errors"),f=c("tec-label"),p=c("tec-input"),b=c("loading-button"),T=c("tec-authentication-card");return s(),$(T,null,{logo:y(()=>[r(g)]),default:y(()=>[r(_,{title:o.$t("OTP")},null,8,["title"]),m("div",R,[e.recovery?(s(),i(u,{key:1},[a(l(o.$t("Please confirm access to your account by entering one of your emergency recovery codes.")),1)],64)):(s(),i(u,{key:0},[a(l(o.$t("Please confirm access to your account by entering the authentication code provided by your authenticator application.")),1)],64))]),r(h,{class:"mb-4"}),m("form",{onSubmit:t[3]||(t[3]=v((...n)=>d.submit&&d.submit(...n),["prevent"]))},[e.recovery?(s(),i("div",A,[r(f,{for:"recovery_code",value:o.$t("Recovery Code")},null,8,["value"]),r(p,{type:"text",id:"recovery_code",ref:"recovery_code",class:"mt-1 block w-full",modelValue:e.form.recovery_code,"onUpdate:modelValue":t[1]||(t[1]=n=>e.form.recovery_code=n),autocomplete:"one-time-code"},null,8,["modelValue"])])):(s(),i("div",U,[r(f,{for:"code",value:o.$t("Code")},null,8,["value"]),r(p,{autofocus:"",id:"code",ref:"code",type:"text",inputmode:"numeric",modelValue:e.form.code,"onUpdate:modelValue":t[0]||(t[0]=n=>e.form.code=n),class:"mt-1 block w-full",autocomplete:"one-time-code"},null,8,["modelValue"])])),m("div",F,[m("button",{type:"button",onClick:t[2]||(t[2]=v((...n)=>d.toggleRecovery&&d.toggleRecovery(...n),["prevent"])),class:"text-gray-600 py-3 px-4 rounded-md hover:text-gray-900 hover:bg-gray-200 cursor-pointer transition-all"},[e.recovery?(s(),i(u,{key:1},[a(l(o.$t("Use an authentication code")),1)],64)):(s(),i(u,{key:0},[a(l(o.$t("Use a recovery code")),1)],64))]),r(b,{type:"submit",class:"ml-2",loading:e.form.processing,disabled:e.form.processing},{default:y(()=>[a(l(o.$t("Login")),1)]),_:1},8,["loading","disabled"])])],32)]),_:1})}const z=B(P,[["render",N]]);export{z as default};
