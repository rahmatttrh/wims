import{S as $,m as T,p as V}from"./SearchFilter-B_YscoMn.js";import{t as B}from"./throttle-D8AUt2bN.js";import{T as U}from"./Button-feziRQJJ.js";import{P as C}from"./Pagination-DjCI5krI.js";import{S as F}from"./SelectInput-BdLKWJYF.js";import{T as N,a as S}from"./DropdownLink-DLgJUFVy.js";import{A as j}from"./AdminLayout-CZVbxH_w.js";import{T as O}from"./SectionTitle-CsKWWg1N.js";import{_ as D,r as i,d as m,o as n,e as a,b as e,g as d,h as l,t as o,a as r,c,F as I,i as L,n as P}from"./app-CmanO5vD.js";import"./Label-BFNS-ixp.js";import"./InputError-IXNDXV76.js";import"./v4-BKrj-4V8.js";import"./Modal-vEUc-xTy.js";import"./ApplicationLogo-C9LXsB4R.js";import"./ApplicationMark-CtaHwZ2O.js";const A={components:{TecButton:U,Pagination:C,AdminLayout:j,TecDropdown:S,SelectInput:F,SearchFilter:$,TecDropdownLink:N,TecSectionTitle:O},props:{filters:Object,units:Object},data(){return{form:{search:this.filters.search,trashed:this.filters.trashed}}},watch:{form:{handler:B(function(){let t=V(this.form);this.$inertia.visit(this.route("units.index",Object.keys(t).length?t:{remember:"forget"}),{onFinish:()=>{document.getElementById("page-search").focus()}})},150),deep:!0}},methods:{goto(t){this.$can("update-units")&&this.$inertia.visit(t)},reset(){this.form=T(this.form,()=>null)}}},E={class:"px-4 md:px-0"},R={class:"mb-6 flex justify-between items-center print:hidden"},q={class:"mt-4 block text-gray-700"},z={value:null},W={value:"with"},G={value:"only"},H={class:"flex items-center px-4 py-3 bg-gray-800 rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700 focus:bg-gray-700 focus:outline-hidden focus:ring-3 focus:ring-gray-300 transition ease-in-out duration-150"},J=["href"],K={class:"bg-white -mx-4 md:mx-0 md:rounded-md shadow-sm overflow-x-auto"},M={class:"w-full whitespace-nowrap"},Q={class:"text-left font-bold"},X={class:"px-6 pt-6 pb-4"},Y={class:"px-6 pt-6 pb-4"},Z={class:"px-6 pt-6 pb-4"},tt={class:"px-6 pt-6 pb-4",colspan:"2"},et=["onClick"],st={class:"border-t"},ot={class:"px-6 py-4"},nt={class:"flex items-center"},at={class:"border-t"},it={class:"px-6 py-4 flex items-center"},rt={class:"border-t"},dt={class:"px-6 py-4 flex items-center"},lt={class:"text-gray-500 ml-1"},ct={class:"border-t"},mt={class:"px-6 py-4 flex items-center"},pt={key:0,class:"ml-1 font-mono py-px px-2 rounded-sm bg-gray-600 text-white"},ht={class:"border-t w-px"},ut={key:0,class:"px-4 flex items-center"},_t={key:0},ft={class:"border-t px-6 py-4",colspan:"4"};function bt(t,p,h,gt,u,f){const g=i("tec-section-title"),y=i("select-input"),w=i("search-filter"),_=i("icons"),b=i("tec-dropdown-link"),x=i("tec-dropdown"),k=i("pagination"),v=i("admin-layout");return n(),m(v,{title:t.$t("Units")},{default:a(()=>[e("div",E,[d(g,{class:"-mx-4 md:mx-0 mb-6"},{title:a(()=>[l(o(t.$t("Units")),1)]),description:a(()=>[l(o(t.$t("Please review the data in the table below")),1)]),_:1}),e("div",R,[d(w,{modelValue:u.form.search,"onUpdate:modelValue":p[1]||(p[1]=s=>u.form.search=s),class:"w-full max-w-md mr-4",onReset:f.reset},{default:a(()=>[e("label",q,o(t.$t("Trashed"))+":",1),d(y,{modelValue:u.form.trashed,"onUpdate:modelValue":p[0]||(p[0]=s=>u.form.trashed=s),class:"mt-1 w-full"},{default:a(()=>[e("option",z,o(t.$t("Not Trashed")),1),e("option",W,o(t.$t("With Trashed")),1),e("option",G,o(t.$t("Only Trashed")),1)]),_:1},8,["modelValue"])]),_:1},8,["modelValue","onReset"]),t.$can(["create-units","import-units","export-units"])?(n(),m(x,{key:0,align:"right",width:"48"},{trigger:a(()=>[e("button",H,[d(_,{name:"menu"})])]),content:a(()=>[t.$can("create-units")?(n(),m(b,{key:0,href:t.route("units.create")},{default:a(()=>[l(o(t.$t("create_x",{x:t.$t("Unit")})),1)]),_:1},8,["href"])):r("",!0),t.$can("export-units")?(n(),c("a",{key:1,href:t.route("units.export"),class:"block px-4 py-2 leading-5 text-gray-700 hover:bg-gray-100 focus:outline-hidden focus:bg-gray-100 transition duration-150 ease-in-out"},o(t.$t("export_x",{x:t.$t("Units")})),9,J)):r("",!0),t.$can("import-units")?(n(),m(b,{key:2,href:t.route("units.import")},{default:a(()=>[l(o(t.$t("import_x",{x:t.$t("Units")})),1)]),_:1},8,["href"])):r("",!0)]),_:1})):r("",!0)]),e("div",K,[e("table",M,[e("thead",null,[e("tr",Q,[e("th",X,o(t.$t("Name")),1),e("th",Y,o(t.$t("Code")),1),e("th",Z,o(t.$t("Base Unit")),1),e("th",tt,o(t.$t("Formula")),1)])]),e("tbody",null,[(n(!0),c(I,null,L(h.units.data,s=>(n(),c("tr",{key:s.id,onClick:yt=>f.goto(t.route("units.edit",s.id)),class:P(["hover:bg-gray-100 focus-within:bg-gray-100",{"cursor-pointer":t.$can("update-units")}])},[e("td",st,[e("div",ot,[e("div",nt,[l(o(s.name)+" ",1),s.deleted_at?(n(),m(_,{key:0,name:"trash",class:"shrink-0 w-4 h-4 text-red-500 ml-2"})):r("",!0)])])]),e("td",at,[e("div",it,o(s.code),1)]),e("td",rt,[e("div",dt,[l(o(s.base_unit_id?s.base_unit.name:"")+" ",1),e("span",lt,o(s.base_unit_id?"("+s.base_unit.code+")":""),1)])]),e("td",ct,[e("div",mt,[s.base_unit_id?(n(),c("span",pt,o(s.base_unit.name+" ("+s.base_unit.code+") "+s.operator+" "+parseFloat(s.operation_value)+" = "+s.name+" ("+s.code+")"),1)):r("",!0)])]),e("td",ht,[t.$can("update-units")?(n(),c("div",ut,[d(_,{name:"chevron-down",class:"transform -rotate-90 block w-4 h-4"})])):r("",!0)])],10,et))),128)),h.units.data.length===0?(n(),c("tr",_t,[e("td",ft,o(t.$t("There is no data to display.")),1)])):r("",!0)])])]),d(k,{class:"mt-6",meta:h.units.meta,links:h.units.links},null,8,["meta","links"])])]),_:1},8,["title"])}const Dt=D(A,[["render",bt]]);export{Dt as default};
