import{S as T,m as V,p as B}from"./SearchFilter-B_YscoMn.js";import{t as N}from"./throttle-D8AUt2bN.js";import{T as S}from"./Button-feziRQJJ.js";import{P as j}from"./Pagination-DjCI5krI.js";import{S as A}from"./SelectInput-BdLKWJYF.js";import{T as F,a as O}from"./DropdownLink-DLgJUFVy.js";import{A as D}from"./AdminLayout-CZVbxH_w.js";import{T as I}from"./SectionTitle-CsKWWg1N.js";import{_ as L,r as n,d as u,o as r,e as a,b as t,g as i,h as p,t as o,a as l,c as d,F as y,i as w,n as P}from"./app-CmanO5vD.js";import"./Label-BFNS-ixp.js";import"./InputError-IXNDXV76.js";import"./v4-BKrj-4V8.js";import"./Modal-vEUc-xTy.js";import"./ApplicationLogo-C9LXsB4R.js";import"./ApplicationMark-CtaHwZ2O.js";const U={components:{TecButton:S,Pagination:j,AdminLayout:D,TecDropdown:O,SelectInput:A,SearchFilter:T,TecDropdownLink:F,TecSectionTitle:I},props:{parents:Array,filters:Object,categories:Object},data(){return{form:{search:this.filters.search,parent:this.filters.parent,trashed:this.filters.trashed}}},watch:{form:{handler:N(function(){let e=B(this.form);this.$inertia.visit(this.route("categories.index",Object.keys(e).length?e:{remember:"forget"}),{onFinish:()=>{document.getElementById("page-search").focus()}})},150),deep:!0}},methods:{goto(e){this.$can("update-categories")&&this.$inertia.visit(e)},reset(){this.form=V(this.form,()=>null)}}},E={class:"px-4 md:px-0"},R={class:"mb-6 flex justify-between items-center print:hidden"},q={class:"mt-4 block text-gray-700"},z={value:null},W=["value"],G={class:"mt-4 block text-gray-700"},H={value:null},J={value:"with"},K={value:"only"},M={class:"flex items-center px-4 py-3 bg-gray-800 rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-gray-700 focus:bg-gray-700 focus:outline-hidden focus:ring-3 focus:ring-gray-300 transition ease-in-out duration-150"},Q=["href"],X={class:"bg-white -mx-4 md:mx-0 md:rounded-md shadow-sm overflow-x-auto"},Y={class:"w-full whitespace-nowrap"},Z={class:"text-left font-bold"},ee={class:"px-6 pt-6 pb-4"},te={class:"px-6 pt-6 pb-4"},oe={class:"px-6 pt-6 pb-4",colspan:"2"},se=["onClick"],re={class:"border-t"},ae={class:"px-6 py-4"},ne={class:"flex items-center"},ie={class:"border-t"},le={class:"px-6 py-4 flex items-center"},de={class:"border-t"},ce={class:"px-6 py-4 flex items-center"},me={class:"text-gray-500 ml-1"},pe={class:"border-t w-px"},he={key:0,class:"px-4 flex items-center"},ue={key:0},fe={class:"border-t px-6 py-4",colspan:"4"};function _e(e,c,h,ge,m,_){const k=n("tec-section-title"),g=n("select-input"),v=n("search-filter"),f=n("icons"),b=n("tec-dropdown-link"),x=n("tec-dropdown"),$=n("pagination"),C=n("admin-layout");return r(),u(C,{title:e.$t("Categories")},{default:a(()=>[t("div",E,[i(k,{class:"-mx-4 md:mx-0 mb-6"},{title:a(()=>[p(o(e.$t("Categories")),1)]),description:a(()=>[p(o(e.$t("Please review the data in the table below")),1)]),_:1}),t("div",R,[i(v,{modelValue:m.form.search,"onUpdate:modelValue":c[2]||(c[2]=s=>m.form.search=s),class:"w-full max-w-md mr-4",onReset:_.reset},{default:a(()=>[t("label",q,o(e.$t("Child of"))+":",1),i(g,{modelValue:m.form.parent,"onUpdate:modelValue":c[0]||(c[0]=s=>m.form.parent=s),class:"mt-1 w-full"},{default:a(()=>[t("option",z,o(e.$t("All")),1),(r(!0),d(y,null,w(h.parents,s=>(r(),d("option",{key:s.id,value:s.id},o(s.name),9,W))),128))]),_:1},8,["modelValue"]),t("label",G,o(e.$t("Trashed"))+":",1),i(g,{modelValue:m.form.trashed,"onUpdate:modelValue":c[1]||(c[1]=s=>m.form.trashed=s),class:"mt-1 w-full"},{default:a(()=>[t("option",H,o(e.$t("Not Trashed")),1),t("option",J,o(e.$t("With Trashed")),1),t("option",K,o(e.$t("Only Trashed")),1)]),_:1},8,["modelValue"])]),_:1},8,["modelValue","onReset"]),e.$can(["create-categories","import-categories","export-categories"])?(r(),u(x,{key:0,align:"right",width:"48"},{trigger:a(()=>[t("button",M,[i(f,{name:"menu"})])]),content:a(()=>[e.$can("create-categories")?(r(),u(b,{key:0,href:e.route("categories.create")},{default:a(()=>[p(o(e.$t("create_x",{x:e.$t("Category")})),1)]),_:1},8,["href"])):l("",!0),e.$can("export-categories")?(r(),d("a",{key:1,href:e.route("categories.export"),class:"block px-4 py-2 leading-5 text-gray-700 hover:bg-gray-100 focus:outline-hidden focus:bg-gray-100 transition duration-150 ease-in-out"},o(e.$t("export_x",{x:e.$t("Categories")})),9,Q)):l("",!0),e.$can("import-categories")?(r(),u(b,{key:2,href:e.route("categories.import")},{default:a(()=>[p(o(e.$t("import_x",{x:e.$t("Categories")})),1)]),_:1},8,["href"])):l("",!0)]),_:1})):l("",!0)]),t("div",X,[t("table",Y,[t("thead",null,[t("tr",Z,[t("th",ee,o(e.$t("Name")),1),t("th",te,o(e.$t("Code")),1),t("th",oe,o(e.$t("Child of")),1)])]),t("tbody",null,[(r(!0),d(y,null,w(h.categories.data,s=>(r(),d("tr",{key:s.id,onClick:be=>_.goto(e.route("categories.edit",s.id)),class:P(["hover:bg-gray-100 focus-within:bg-gray-100",{"cursor-pointer":e.$can("update-categories")}])},[t("td",re,[t("div",ae,[t("div",ne,[p(o(s.name)+" ",1),s.deleted_at?(r(),u(f,{key:0,name:"trash",class:"shrink-0 w-4 h-4 text-red-500 ml-2"})):l("",!0)])])]),t("td",ie,[t("div",le,o(s.code),1)]),t("td",de,[t("div",ce,[p(o(s.parent_id?s.parent.name:"")+" ",1),t("span",me,o(s.parent_id?"("+s.parent.code+")":""),1)])]),t("td",pe,[e.$can("update-categories")?(r(),d("div",he,[i(f,{name:"chevron-down",class:"transform -rotate-90 block w-4 h-4"})])):l("",!0)])],10,se))),128)),h.categories.data.length===0?(r(),d("tr",ue,[t("td",fe,o(e.$t("There is no data to display.")),1)])):l("",!0)])])]),i($,{class:"mt-6",meta:h.categories.meta,links:h.categories.links},null,8,["meta","links"])])]),_:1},8,["title"])}const Oe=L(U,[["render",_e]]);export{Oe as default};
