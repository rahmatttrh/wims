import{T as v}from"./Label-BFNS-ixp.js";import{T as _}from"./Input-Dp9i-tt6.js";import{T as y}from"./InputError-IXNDXV76.js";import{_ as k,r as a,c as d,o as r,d as m,a as u,b as s,g as i,h as f,t as p}from"./app-CmanO5vD.js";import{v as V}from"./v4-BKrj-4V8.js";const w={emits:["update:modelValue"],components:{TecLabel:v,TecInput:_,TecInputError:y},props:{label:String,error:String,accept:String,modelValue:File,id:{type:String,default(){return V()}}},watch:{modelValue(t){t||(this.$refs.file.value="")}},computed:{selected(){return this.modelValue?this.modelValue.name+" ("+this.filesize(this.modelValue.size)+")":""}},methods:{filesize(t){var e=Math.floor(Math.log(t)/Math.log(1024));return(t/Math.pow(1024,e)).toFixed(2)*1+" "+["B","kB","MB","GB","TB"][e]},browse(){this.$refs.file.click()},change(t){this.$emit("update:modelValue",t.target.files[0])},remove(){this.$emit("update:modelValue",null)}}},x={class:"mt-1 relative rounded-md"},B={class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none"},T={class:"absolute inset-y-0 right-0 flex items-center"},C={class:"hidden sm:inline-block"},S={class:"hidden sm:inline-block"},F=["id","accept"];function M(t,e,l,N,I,o){const h=a("tec-label"),c=a("icons"),b=a("tec-input"),g=a("tec-input-error");return r(),d("div",null,[l.label?(r(),m(h,{key:0,for:l.id,value:l.label},null,8,["for","value"])):u("",!0),s("div",x,[s("div",B,[i(c,{name:"link",class:"text-gray-500"})]),i(b,{type:"text",onClick:o.browse,id:"file-input",readonly:"true",value:o.selected,placeholder:t.$t("Select File"),class:"block w-full pl-10 pr-12"},null,8,["onClick","value","placeholder"]),s("div",T,[l.modelValue?(r(),d("button",{key:0,type:"button",onClick:e[0]||(e[0]=(...n)=>o.remove&&o.remove(...n)),class:"px-4 py-2 bg-red-500 hover:bg-red-700 focus:outline-hidden rounded-r-md font-medium text-white flex items-center"},[i(c,{name:"cross",class:"w-6 h-6 sm:mr-2"}),e[3]||(e[3]=f("  ",-1)),s("span",C,p(t.$t("Remove")),1)])):(r(),d("button",{key:1,type:"button",onClick:e[1]||(e[1]=(...n)=>o.browse&&o.browse(...n)),class:"px-4 py-2 bg-gray-600 hover:bg-gray-800 focus:outline-hidden rounded-r-md font-medium text-white flex items-center"},[i(c,{name:"folder",class:"w-6 h-6 sm:mr-2"}),e[4]||(e[4]=f("  ",-1)),s("span",S,p(t.$t("Browse")),1)]))]),s("input",{id:l.id,ref:"file",type:"file",accept:l.accept,class:"hidden",onChange:e[2]||(e[2]=(...n)=>o.change&&o.change(...n))},null,40,F)]),l.error?(r(),m(g,{key:1,message:l.error,class:"absolute mt-0"},null,8,["message"])):u("",!0)])}const R=k(w,[["render",M]]);export{R as F};
